DefinitionBlock ("", "SSDT", 2, "SYSM", "ALS0", 0x00000000)
{
    // External references
    External (_SB_.PC00, DeviceObj)
    External (_SB_.PC00.LPCB, DeviceObj)
    External (_SB_.PC00.PEG0, DeviceObj)
    External (_SB_.PC00.SAT0, DeviceObj)
    External (DTGP, MethodObj)    // 5 Arguments
    
    Scope (_SB)
    {
        Device (ALS0)
        {
            Name (_HID, "ACPI0008")  // Ambient Light Sensor
            Name (_CID, "PNP0C50")
            Method (_STA, 0, NotSerialized)
            {
                If (_OSI ("Darwin"))
                {
                    Return (0x0F)  // Device present and enabled in macOS
                }
                Else
                {
                    Return (0x00)  // Device not present in other OS
                }
            }
            
            Name (_ALI, 0x0140)  // Ambient Light Illuminance (320 lux)
            
            Method (_ALR, 0, NotSerialized)
            {
                // Return list of supported illuminance levels
                Package (0x04)
                {
                    0x64,    // 100 lux
                    0x0140,  // 320 lux
                    0x01F4,  // 500 lux
                    0x03E8   // 1000 lux
                }
            }
            
            // Optional: Methods for light sensor control
            Method (_DSM, 4, Serialized)
            {
                Local0 = Package (0x02)
                {
                    Buffer (0x04)
                    {
                        0x00, 0x00, 0x00, 0x00
                    }, 
                    
                    Package (0x00) {}
                }
                
                // Call DTGP method if it exists
                If (CondRefOf (DTGP))
                {
                    Return (DTGP (Arg0, Arg1, Arg2, Arg3, Local0))
                }
                
                Return (Local0)
            }
        }
    }
    
    // Alternative: Attach to LPC bus (optional, uncomment if needed)
    /*
    Scope (_SB.PC00.LPCB)
    {
        Device (ALS0)
        {
            Name (_ADR, Zero)
            Name (_HID, "ACPI0008")
            // ... same content as above
        }
    }
    */
}